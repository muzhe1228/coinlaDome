{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\funcComm.js"],"names":["CryptoJS","require","cryCommon","pad","ZeroPadding","data","blockSize","blockSizeBytes","clamp","sigBytes","unpad","dataWords","words","i","randomString","len","$chars","maxPos","length","pwd","charAt","Math","floor","random","Encrypt","word","randomKey","srcs","enc","Utf8","parse","encrypted","AES","encrypt","mode","ECB","padding","Pkcs7","toString","Decrypt","decrypt","stringify","encryption","params","randomStr","JSON","JSEncrypt","setPublicKey","requestData","DecryptData","res","setPrivateKey","aesKey"],"mappings":"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","file":"funcComm.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["var CryptoJS = require(\"./crypto-js/index.js\");\r\nimport \"./jsencrypt.min\";\r\nfunction cryCommon() {\r\n  CryptoJS.pad.ZeroPadding = {\r\n    pad: function(data, blockSize) {\r\n      // Shortcut\r\n      var blockSizeBytes = blockSize * 4;\r\n\r\n      // Pad\r\n      data.clamp();\r\n      data.sigBytes +=\r\n        blockSizeBytes - (data.sigBytes % blockSizeBytes || blockSizeBytes);\r\n    },\r\n\r\n    unpad: function(data) {\r\n      // Shortcut\r\n      var dataWords = data.words;\r\n\r\n      // Unpad\r\n      var i = data.sigBytes - 1;\r\n      while (!((dataWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff)) {\r\n        i--;\r\n      }\r\n      data.sigBytes = i + 1;\r\n    }\r\n  };\r\n}\r\nfunction randomString(len) {\r\n  len = len || 32;\r\n  var $chars =\r\n    \"ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678\"; /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\r\n  var maxPos = $chars.length;\r\n  var pwd = \"\";\r\n  for (let i = 0; i < len; i++) {\r\n    pwd += $chars.charAt(Math.floor(Math.random() * maxPos));\r\n  }\r\n  return pwd;\r\n}\r\nfunction Encrypt(word, randomKey) {\r\n  var srcs = CryptoJS.enc.Utf8.parse(word);\r\n  var encrypted = CryptoJS.AES.encrypt(\r\n    srcs,\r\n    CryptoJS.enc.Utf8.parse(randomKey),\r\n    {\r\n      mode: CryptoJS.mode.ECB,\r\n      padding: CryptoJS.pad.Pkcs7\r\n    }\r\n  );\r\n  return encrypted.toString();\r\n}\r\nfunction Decrypt(word, randomKey) {\r\n  var decrypt = CryptoJS.AES.decrypt(word, CryptoJS.enc.Utf8.parse(randomKey), {\r\n    mode: CryptoJS.mode.ECB,\r\n    padding: CryptoJS.pad.Pkcs7\r\n  });\r\n  return CryptoJS.enc.Utf8.stringify(decrypt).toString();\r\n}\r\n//加密\r\nexport const encryption = function(params) {\r\n  let randomStr, data, encrypt, encrypted;\r\n  cryCommon();\r\n  randomStr = randomString(16);\r\n  // aes加密\r\n  data = Encrypt(JSON.stringify(params), randomStr);\r\n  // rsa加密\r\n  encrypt = new JSEncrypt();\r\n  encrypt.setPublicKey(\r\n    \"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCJ9s1qlOyv9qpuaTqauW6fUftzE50rVk3yVPZwv1aO1Ch/XSEz76xCwkyvqpaqceRXrPpdBmO5+ruJ+I8osOHo7L5GWEOcMOO+8izp9hXKBBrmRMD4Egpn00k9DhVIEKp/vyddZPS/doxB8onhN6poTJDLdFLFVEicMf52caN9GQIDAQAB\"\r\n  );\r\n  encrypted = encrypt.encrypt(randomStr);\r\n  //创建json对象\r\n  return {\r\n    requestData: data,\r\n    encrypted: encrypted\r\n  };\r\n};\r\n//解密\r\nexport const DecryptData = function(res) {\r\n  cryCommon();\r\n  let decrypt = new JSEncrypt();\r\n  decrypt.setPrivateKey(\r\n    \"MIICdgIBADANBgkqhkiG9w0BAQEFAASCAmAwggJcAgEAAoGBAL2KSsvFr9yAtldC6AFAWF3EI9CYRn2P2Fp2trzUyoDGZGRzd4XBE4AeT/7f1+GYPCC2MT/Dhw7pcNpsv+aLlXfuKgHJLVCmi8XxmUmDP9GO9XdMRqe/GW6uJ1eU1N853jm4L35OZHYPNGTmnblTUXvjAXsrYpIa/aDKpm+23Gt/AgMBAAECgYBqtFMdWsKBkZiVkZ4JLk9RIl3DTibJA1UawKBpuCX0zzuvbW3JSAQRaX9BjoT7hPe8trUNH6eGFpeo7/Ys9UIEU61c33Q49NBPEVXH2+PhefIE74b8/H9cu1iYQyn9NSGKt0clo5/CU2G3OA7h+xqD9b7ifd4+DtdrS3KDpTPa0QJBAPhBkdpomvIWmUfI69WerwZHrzMZEFYHThG9SbWw0UgIjdKmSiQmrXawPZLe/o3BxPSIIXDzxiVAimdjVJcfC4kCQQDDc9nUvbLt4TryCfnR7x2KECh3BDEv/cuw/e67m0HYOdooV4KQ4aVous/TbbpcyPGcC180XCHjF11gqVa6hdTHAkBpEJcBsDOjMR093DKy/a1lIwFqxri7L+xCZbHES0jHC5e6BtZp5lSTXpMwjV997vvD4bkFbKX3LhFlIAy0yFbBAkAgvjC43gqypS+9yoQKcldtgKV2wsIGuyq7fN7YmPrf4Vk1tutNoC+YqusUDWbSEmu/a3xIhkK7C3f+MIAyASeTAkEA6CalrJUYBeDcaSHKhmJIceQ7baf8Q7uMYY5gRYuQ4rGudcXXaLi+o2I9f9in5qxE/SM/y9LuBmkzrCuy0tlNXA==\"\r\n  );\r\n  let aesKey = decrypt.decrypt(res.encrypted);\r\n  // 用aes秘钥进行解密\r\n  return JSON.parse(Decrypt(res.requestData, aesKey));\r\n};\r\n"]}